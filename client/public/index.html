<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>üåø Urvann | Mini Plant Store</title>
<link rel="icon" href="storelogo.png" type="image/png">
<style>
/* === SAME CSS AS BEFORE (already integrated) === */
:root{
  --bg:#F6FAF6;--bg-2:#ECF6EE;--panel:#FFFFFF;--card:#FFFFFF;
  --text:#1B2B22;--muted:#62756C;--accent:#2F9D69;--accent2:#31B5A3;
  --soil:#8B5E3C;--water:#3FA7D6;--danger:#E05252;--warn:#E6A534;
  --border:rgba(27,43,34,0.10);--shadow:rgba(15, 38, 24, .08);
  --ring:rgba(47,157,105,.28);--header-h:56px;
}
*{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui;
background:radial-gradient(1200px 700px at -10% -20%,var(--bg-2) 0%,transparent 40%),
radial-gradient(900px 500px at 110% -10%,#E6F4F7 0%,transparent 50%),
linear-gradient(180deg,var(--bg) 0%,#FDFEFC 100%);color:var(--text);
display:flex;flex-direction:column;min-height:100vh}
.container{width:min(1200px,95%);margin:0 auto;padding:16px}
/* header, toolbar, card, modal, footer styles SAME as your code */
header{top:0;z-index:30;height:var(--header-h);backdrop-filter:blur(10px);
background:rgba(255,255,255,.8);border-bottom:1px solid var(--border)}
.header-container{display:flex;align-items:center;justify-content:space-between;height:100%}
.brand{display:flex;align-items:center;gap:12px}.logo{width:44px;height:44px;border-radius:12px;
background:conic-gradient(from210deg,#B9E6C8,#8ED7B1,#B9E6C8);
display:grid;place-items:center;font-weight:800}
.brand-title{font-size:18px;font-weight:800}.brand-sub{font-size:12px;color:var(--muted)}
.toolbar{display:grid;grid-template-columns:1fr 160px 160px 160px;gap:10px;padding:12px}
.input,.select,.btn{padding:10px 12px;border-radius:10px;border:1px solid var(--border)}
.btn{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;border:none;cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:16px;margin-top:12px}
.card{background:#fff;border:1px solid var(--border);border-radius:18px;padding:14px;
box-shadow:0 10px 26px var(--shadow);display:flex;flex-direction:column;gap:10px}
.card h3{margin:0;font-size:16px;font-weight:800}
.price{font-weight:850;color:var(--soil)}
.badges{display:flex;flex-wrap:wrap;gap:6px}.tag{font-size:12px;padding:4px 8px;background:#eef}
.card-footer{display:flex;justify-content:space-between}
.btn-sm{padding:6px 8px;font-size:12px;border-radius:8px;border:1px solid var(--border);cursor:pointer}
.del{background:linear-gradient(135deg,#f1736e,#e14b4b);color:#fff;border:none}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;
align-items:center;justify-content:center}
.modal{background:#fff;padding:16px;border-radius:12px;width:min(500px,95%)}
.error{color:red;font-size:12px;display:none}
footer{position:fixed;bottom:0;width:100%;background:rgba(255,255,255,.9);border-top:1px solid var(--border)}
.footer-container{display:flex;justify-content:space-between;padding:10px 16px}
</style>
</head>
<body>
<header>
  <div class="header-container container">
    <div class="brand"><div class="logo">üåø</div>
      <div><div class="brand-title">Urvann Mini Plant Store</div>
      <div class="brand-sub">Bringing greenery closer to you</div></div>
    </div>
    <span class="pill">Local Mode</span>
  </div>
</header>
<main class="container">
  <div class="toolbar">
    <input id="search" class="input" placeholder="Search plants..."/>
    <select id="category" class="select"><option value="">All categories</option></select>
    <select id="availability" class="select">
      <option value="">All stock states</option><option value="true">In stock</option>
      <option value="false">Out of stock</option></select>
    <button id="addBtn" class="btn">‚ûï Add Plant</button>
  </div>
  <div id="grid" class="grid"></div>
  <div id="empty" style="display:none;text-align:center;padding:20px">No plants found</div>
</main>
<footer>
  <div class="footer-container">
    <span class="footer-brand">Urvann</span>
    <span id="count">0</span>
  </div>
</footer>
<!-- Modal -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal">
    <h2 id="modalTitle">Add Plant</h2>
    <label>Name<input id="m_name" class="input"/></label><div id="e_name" class="error"></div>
    <label>Price<input id="m_price" type="number" class="input"/></label><div id="e_price" class="error"></div>
    <label>Categories<input id="m_cats" class="input" placeholder="comma separated"/></label>
    <label><input type="checkbox" id="m_stock" checked/> In Stock</label>
    <button id="saveBtn" class="btn">Save</button>
    <button id="cancelBtn" class="btn-sm">Cancel</button>
  </div>
</div>
<script>
/* ==== DATA (seedPlants) ==== */
let plants = [
 { name:"Money Plant", price:199, categories:["Indoor"], inStock:true },
 { name:"Snake Plant", price:299, categories:["Indoor","Low Maintenance"], inStock:true },
 { name:"Rose", price:149, categories:["Outdoor","Flowering"], inStock:true },
 { name:"Tulsi", price:69, categories:["Outdoor","Medicinal"], inStock:true }
];
let editingIndex = null;

/* ==== DOM ==== */
const grid=document.getElementById("grid"),empty=document.getElementById("empty"),
catSel=document.getElementById("category"),availSel=document.getElementById("availability"),
searchInp=document.getElementById("search"),count=document.getElementById("count"),
modal=document.getElementById("modalBackdrop"),m_name=document.getElementById("m_name"),
m_price=document.getElementById("m_price"),m_cats=document.getElementById("m_cats"),
m_stock=document.getElementById("m_stock"),saveBtn=document.getElementById("saveBtn"),
cancelBtn=document.getElementById("cancelBtn"),e_name=document.getElementById("e_name"),
e_price=document.getElementById("e_price");

/* ==== RENDER ==== */
function render(){
  grid.innerHTML=""; let list=filterPlants();
  if(list.length==0){empty.style.display="block"} else {empty.style.display="none"}
  list.forEach((p,i)=>{
    const card=document.createElement("div");card.className="card";
    card.innerHTML=`<h3>${p.name}</h3>
      <div class="price">‚Çπ${p.price}</div>
      <div class="badges">${p.categories.map(c=>`<span class="tag">${c}</span>`).join("")}</div>
      <div class="stock ${p.inStock?"in":"out"}">${p.inStock?"In Stock":"Out of Stock"}</div>
      <div class="card-footer">
        <button class="btn-sm edit">Edit</button>
        <button class="btn-sm del">‚ùå</button></div>`;
    card.querySelector(".edit").onclick=()=>openModal(i);
    card.querySelector(".del").onclick=()=>{plants.splice(i,1);render()};
    grid.appendChild(card);
  });
  count.textContent=plants.length;
  populateCategories();
}
function populateCategories(){
  let cats=[...new Set(plants.flatMap(p=>p.categories))].sort();
  catSel.innerHTML='<option value="">All categories</option>'+cats.map(c=>`<option>${c}</option>`).join("");
}
function filterPlants(){
  let s=searchInp.value.toLowerCase(),cat=catSel.value,av=availSel.value;
  return plants.filter(p=>
    (!s||p.name.toLowerCase().includes(s)||p.categories.some(c=>c.toLowerCase().includes(s))) &&
    (!cat||p.categories.includes(cat)) &&
    (!av||(av==="true"?p.inStock:!p.inStock))
  );
}
/* ==== MODAL ==== */
function openModal(idx=null){
  editingIndex=idx;
  modal.style.display="flex";
  if(idx!=null){let p=plants[idx];m_name.value=p.name;m_price.value=p.price;
    m_cats.value=p.categories.join(", ");m_stock.checked=p.inStock}
  else{m_name.value="";m_price.value="";m_cats.value="";m_stock.checked=true}
}
function closeModal(){modal.style.display="none"}
saveBtn.onclick=()=>{
  e_name.style.display="none"; e_price.style.display="none";
  if(m_name.value.trim().length<2){e_name.style.display="block";return}
  if(!m_price.value||m_price.value<0){e_price.style.display="block";return}
  let obj={name:m_name.value.trim(),price:+m_price.value,
           categories:m_cats.value.split(",").map(s=>s.trim()).filter(Boolean),
           inStock:m_stock.checked};
  if(editingIndex!=null) plants[editingIndex]=obj; else plants.unshift(obj);
  closeModal();render();
};
cancelBtn.onclick=closeModal;
/* ==== INIT ==== */
document.getElementById("addBtn").onclick=()=>openModal();
[searchInp,catSel,availSel].forEach(el=>el.oninput=render);
render();
</script>
</body>
</html>

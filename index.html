<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>üåø Urvann | Mini Plant Store</title>
<link rel="icon" href="/storelogo.ico" type="image/x-icon">
<link rel="icon" href="/storelogo.png" type="image/png">

<style>
:root{
  --bg:#F6FAF6;
  --bg-2:#ECF6EE;
  --panel:#FFFFFF;
  --card:#FFFFFF;
  --text:#1B2B22;
  --muted:#62756C;
  --accent:#2F9D69;
  --accent2:#31B5A3;
  --soil:#8B5E3C;
  --danger:#E05252;
  --border:rgba(27,43,34,0.10);
  --shadow:rgba(15, 38, 24, .08);
  --ring:rgba(47,157,105,.28);
  --header-h: 56px;
  --radius:18px;
}


*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at -10% -20%, var(--bg-2) 0%, transparent 40%),
    radial-gradient(900px 500px at 110% -10%, #E6F4F7 0%, transparent 50%),
    linear-gradient(180deg, var(--bg) 0%, #FDFEFC 100%);
  min-height:100vh;
  display:flex; flex-direction:column;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.container{width:min(1200px,95%);margin:0 auto;padding:16px;}

/* Brand */
.brand{display:flex;align-items:center;gap:12px}
.logo{
  width:44px;height:44px;border-radius:12px;
  background:
    conic-gradient(from 210deg, #B9E6C8, #8ED7B1, #B9E6C8),
    radial-gradient(40px 40px at 50% 110%, #E2D3C6 0%, transparent 60%);
  box-shadow: 0 6px 18px var(--shadow), 0 0 0 1px var(--border) inset;
  display:grid; place-items:center; font-weight:800; color:#0d3b2a; font-size:1.2rem;
}
.brand-text{display:flex;flex-direction:column}
.brand-title{font-size:clamp(1rem, 2.2vw, 1.15rem);font-weight:800;letter-spacing:.2px}
.brand-sub{font-size:clamp(.72rem, 1.8vw, .85rem);color:var(--muted)}

/* State pill */
.pill{
  display:inline-flex;align-items:center;gap:8px;
  background:rgba(47,157,105,.08);
  border:1px solid rgba(47,157,105,.20);
  padding:6px 10px;border-radius:999px;
  font-size:.78rem;color:#1b3a2b;
}

/* ===== Header ===== */
header {
  top: 0;
  z-index: 30;
  height: var(--header-h);
  backdrop-filter: blur(10px);
  background: rgba(255,255,255,.82);
  border-bottom:1px solid var(--border);
  position: relative;
}
.header-container.container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 100%;
  padding: 0 12px;
  gap: 8px;
  max-width: 1200px;
  margin: 0 auto;
}

/* ===== Toolbar wrapper ===== */
.toolbar-wrap{position:relative}
#toolbarSpacer{height:0px; transition:height .2s ease}

/* ===== Toolbar ===== */
.toolbar {
  display: grid;
  grid-template-columns: 1fr 160px 160px 160px;
  gap: 10px;
  padding: 12px 16px;
  position: sticky;
  top: var(--header-h);
  margin-top: 0;

  backdrop-filter: blur(8px);
  background: rgba(255,255,255,0.9);
  border: 1px solid var(--border);
  border-top: none;
  border-radius: 0 0 var(--radius) var(--radius);
  box-shadow: 0 8px 24px var(--shadow);
  transition: box-shadow .2s ease, transform .2s ease, border-color .2s ease, width .2s ease, border-radius .2s ease;
  z-index: 25;
}
.toolbar:hover{ border-color: rgba(47,157,105,.22) }

/* Toolbar when docked to very top */
.toolbar.sticky {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: min(95%, 1200px);
  border-radius: 0 0 var(--radius) var(--radius);
  z-index: 29;
}

/* Inputs & buttons */
.input, .select, .btn{
  padding:10px 12px;border-radius:10px;border:1px solid var(--border);
  background: var(--panel); color:var(--text); outline:none;
  transition: box-shadow .2s, transform .06s, border-color .2s, background .2s;
  min-width:0; 
}
.input::placeholder{ color: #8aa398 }
.input:focus, .select:focus{box-shadow:0 0 0 4px var(--ring); border-color:rgba(47,157,105,.45)}
.select{ appearance:none; background-image: linear-gradient(45deg, transparent 50%, var(--muted) 50%), linear-gradient(135deg, var(--muted) 50%, transparent 50%); background-position: calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px); background-size: 5px 5px, 5px 5px; background-repeat: no-repeat; padding-right:28px; }

.btn{
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff; border:none; font-weight:750; cursor:pointer;
  box-shadow: 0 6px 16px rgba(47,157,105,.2);
  white-space:nowrap;
}
.btn:hover{ filter: brightness(1.04) }
.btn:active{ transform: translateY(1px) }

/* ===== Grid & Cards ===== */
main{flex:1}
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(230px,1fr));
  gap:16px; margin-top:12px;
}
.card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius); padding:14px;
  box-shadow: 0 10px 26px var(--shadow);
  display:flex; flex-direction:column; gap:10px;
  transition: transform .18s ease, box-shadow .18s ease, border-color .2s;
  position:relative; overflow:hidden; isolation:isolate;
}
.card:before{
  content:"";
  position:absolute; inset:auto -30% -40% auto; width:180px; height:180px;
  background: radial-gradient(80px 140px at 50% 50%, rgba(47,157,105,.08) 0%, transparent 70%);
  transform: rotate(-28deg);
  pointer-events:none; z-index:0;
}
.card:hover{ transform: translateY(-6px); box-shadow: 0 14px 34px rgba(47,157,105,.18) }
.card .img{
  width:100%; aspect-ratio: 16/11; border-radius:12px;
  background:
    linear-gradient(180deg, #E7F5EB 0%, #DDEFE9 100%),
    linear-gradient(180deg, #EAF6FB 0%, #E4F3FA 100%);
  display:grid; place-items:center; color:#5f7b6c; font-size:.85rem; font-weight:700; letter-spacing:.4px;
  border:1px dashed rgba(27,43,34,.12);
}
.card h3{margin:0;font-size:clamp(.95rem, 2.2vw, 1.05rem);font-weight:800}
.price{font-weight:850; letter-spacing:.2px; color:var(--soil)}
.badges{display:flex; flex-wrap:wrap; gap:6px}
.tag{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:999px; font-size:.75rem; font-weight:600;
  background:rgba(47,157,105,.08); border:1px solid rgba(47,157,105,.20); color:#1f4a35;
}
.stock{font-size:.78rem}
.stock.in{color:#1f7a4f}
.stock.out{color:var(--danger)}
.card-footer{display:flex; align-items:center; justify-content:space-between; margin-top:auto; gap:8px}
.btn-sm{
  padding:7px 10px; border-radius:8px; border:1px solid var(--border); font-size:.78rem; cursor:pointer; background:#fff;
  transition: transform .12s, filter .2s, border-color .2s;
  white-space:nowrap;
}
.btn-sm:hover{transform:translateY(-1px); border-color: rgba(47,157,105,.35)}
.edit{ background: linear-gradient(135deg,#4fc08a,#35a8b6); color:#fff; border:none }
.del{
  background: linear-gradient(135deg,#f1736e,#e14b4b); color:#fff; border:none;
  width:34px; height:34px; display:grid; place-items:center; border-radius:10px;
}

/* ===== Skeletons ===== */
.skel{
  animation: pulse 1.2s ease-in-out infinite;
  background: linear-gradient(90deg, rgba(27,43,34,.06), rgba(27,43,34,.12), rgba(27,43,34,.06));
  background-size: 200% 100%;
}
@keyframes pulse{0%{background-position:200% 0}100%{background-position:-200% 0}}
.card.skeleton .img{border:none}
.card.skeleton h3, .card.skeleton .price, .card.skeleton .badges, .card.skeleton .card-footer{height:14px}
.card.skeleton .img{height:auto; aspect-ratio:16/11; border-radius:12px}
.card.skeleton .line{height:12px;border-radius:6px}

/* ===== Footer ===== */
footer{
  position:fixed; bottom:0; left:0; width:100%;
  backdrop-filter: blur(8px);
  background: rgba(255,255,255,.92);
  border-top:1px solid var(--border);
  z-index:20;
}
.footer-container{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; width:min(1200px,95%); margin:0 auto;
  font-size:.9rem;
}
.footer-brand{font-weight:900;color:var(--accent)}
.footer-count{
  background:rgba(47,157,105,.08); padding:6px 12px; border-radius:999px; font-size:.85rem;
  border:1px solid rgba(47,157,105,.20); color:#1f4a35;
}
.container{padding-bottom:calc(90px + env(safe-area-inset-bottom, 0px))} /* avoid overlap with footer */

/* ===== Modal ===== */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(27,43,34,.35);
  display:none; align-items:center; justify-content:center; padding:16px; z-index:40;
}
.modal{
  width:min(560px,100%); background: var(--panel);
  border:1px solid var(--border); border-radius:16px; padding:16px;
  box-shadow: 0 20px 40px rgba(27,43,34,.18);
}
.modal h2{margin:0 0 8px 0;font-size:clamp(1rem, 2.6vw, 1.2rem)}
.modal .grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.modal label{font-size:.8rem; color:var(--muted)}
.modal .row-2{grid-column:1 / -1}
.error{color:var(--danger); font-size:.78rem; margin-top:6px; display:none}

/* ===== Toasts ===== */
.toast{
  position: fixed; right:16px; bottom: 92px; /* above footer */
  background:#163a2a; border:1px solid rgba(255,255,255,.12);
  color:#F4FFF7; padding:10px 12px; border-radius:10px;
  box-shadow: 0 8px 24px rgba(27,43,34,.28);
  display:none; z-index:45; font-size:.85rem;
}

/* ===== Empty state ===== */
.empty{
  text-align:center; padding:40px 0; color:var(--muted);
  border:1px dashed var(--border); border-radius:16px;
}

/* ===== Responsive ===== */
@media (max-width: 1024px){
  .toolbar{grid-template-columns:1fr 1fr 1fr}
  #sortWrap{display:none}
}
@media (max-width: 740px){
  .toolbar{grid-template-columns:1fr 1fr}
}
@media (max-width: 560px){
  .toolbar{grid-template-columns:1fr}
  .brand-sub{display:none}
  .grid{grid-template-columns:1fr}
  .card{padding:12px}
  .card .img{font-size:.8rem}
  .btn-sm{padding:6px 9px}
  .modal{width:100%;border-radius:14px}
  .modal .grid{grid-template-columns:1fr}
}
</style>
</head>
<body>
<header>
  <div class="header-container container">
    <div class="brand">
      <div class="logo">üåø</div>
      <div class="brand-text">
        <div class="brand-title">Urvann Mini Plant Store</div>
        <div class="brand-sub">Bringing greenery closer to you</div>
      </div>
    </div>
    <span class="pill">Mongo: <strong id="mongoState">checking‚Ä¶</strong></span>
  </div>
</header>

<main class="container">

  <div id="toolbarSpacer"></div>

  <div class="toolbar-wrap">
    <div class="toolbar" role="region" aria-label="Filters and actions" id="toolbar">
      <input id="search" class="input" placeholder="Search plants or categories‚Ä¶" aria-label="Search"/>
      <select id="category" class="select" aria-label="Category">
        <option value="">All categories</option>
      </select>
      <select id="availability" class="select" aria-label="Stock">
        <option value="">All stock states</option>
        <option value="true">In stock</option>
        <option value="false">Out of stock</option>
      </select>
      <div id="sortWrap" style="display:contents">
        <select id="sort" class="select" aria-label="Sort">
          <option value="">Sort: Default</option>
          <option value="priceAsc">Price ‚Üì</option>
          <option value="priceDesc">Price ‚Üë</option>
          <option value="nameAsc">Name A‚ÄìZ</option>
          <option value="nameDesc">Name Z‚ÄìA</option>
        </select>
      </div>
      <button id="addBtn" class="btn" aria-haspopup="dialog">‚ûï Add Plant</button>
    </div>
  </div>

  <div id="status" class="brand-sub"></div>
  <div id="grid" class="grid" aria-live="polite"></div>
  <div id="empty" class="empty" style="display:none;">No plants found. Try clearing filters.</div>
</main>

<footer>
  <div class="footer-container">
    <span class="footer-brand">Urvann</span>
    <span id="count" class="footer-count">0</span>
  </div>
</footer>

<!-- Toast -->
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<!-- Modal Add/Edit -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <h2 id="modalTitle">Add a new plant</h2>
    <div class="grid">
      <div>
        <label for="m_name">Name</label>
        <input id="m_name" class="input" placeholder="e.g., Money Plant"/>
        <div id="e_name" class="error"></div>
      </div>
      <div>
        <label for="m_price">Price (‚Çπ)</label>
        <input id="m_price" class="input" type="number" min="0" placeholder="e.g., 199"/>
        <div id="e_price" class="error"></div>
      </div>
      <div class="row-2">
        <label for="m_cats">Categories (comma-separated)</label>
        <input id="m_cats" class="input" placeholder="Indoor, Home Decor"/>
        <div id="e_cats" class="error"></div>
      </div>
      <div class="row-2" style="display:flex;align-items:center;gap:10px">
        <input type="checkbox" id="m_stock" checked aria-label="In stock"/>
        <label for="m_stock">In stock</label>
      </div>
    </div>
    <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:14px;">
      <button id="m_cancel" class="btn-sm" style="background:#fff">Cancel</button>
      <button id="m_submit" class="btn">Add Plant</button>
    </div>
  </div>
</div>

<script>
/* ===== API ===== */
const API_BASE = "https://tryhost-hnya.onrender.com";
const api = {
  health: API_BASE + '/api/health',
  plants: API_BASE + '/api/plants',
  categories: API_BASE + '/api/categories',
  sample: API_BASE + '/api/plants/sample'
};

/* ===== Helpers ===== */
const el = sel => document.querySelector(sel);
const els = sel => Array.from(document.querySelectorAll(sel));
const toastEl = el('#toast');

function toast(msg){
  toastEl.textContent = msg;
  toastEl.style.display = 'block';
  clearTimeout(toastEl._t);
  toastEl._t = setTimeout(()=> toastEl.style.display = 'none', 2200);
}

async function fetchJSON(url,opt){
  const res = await fetch(url,opt);
  if(!res.ok) throw new Error('HTTP '+res.status);
  return res.json();
}

const debounce = (fn, t=220)=>{ let id; return (...a)=>{ clearTimeout(id); id=setTimeout(()=>fn(...a), t); } };
const throttle = (fn, t=100)=>{ let last=0; return (...a)=>{ const now=Date.now(); if(now-last>t){ last=now; fn(...a); } } };

/* ===== Modal logic ===== */
let editId = null;
const modalBackdrop = el('#modalBackdrop');
const m_title = el('#modalTitle');
const m_name = el('#m_name'), m_price = el('#m_price'), m_cats = el('#m_cats'), m_stock = el('#m_stock');
const e_name = el('#e_name'), e_price = el('#e_price'), e_cats = el('#e_cats');
const m_submit = el('#m_submit'), m_cancel = el('#m_cancel');

function openModal(edit=null){
  modalBackdrop.style.display='flex';
  modalBackdrop.setAttribute('aria-hidden','false');
  if(edit){
    editId = edit._id || edit.id;
    m_title.textContent = 'Edit Plant';
    m_name.value = edit.name || '';
    m_price.value = edit.price ?? '';
    m_cats.value = (edit.categories || []).join(', ');
    m_stock.checked = !!edit.inStock;
    m_submit.textContent = 'Update';
  }else{
    editId = null;
    m_title.textContent = 'Add a new plant';
    m_name.value=''; m_price.value=''; m_cats.value=''; m_stock.checked=true;
    m_submit.textContent = 'Add Plant';
  }
  e_name.style.display = e_price.style.display = e_cats.style.display = 'none';
  setTimeout(()=> m_name.focus(), 0);
}
function closeModal(){
  modalBackdrop.style.display='none';
  modalBackdrop.setAttribute('aria-hidden','true');
}
m_cancel.addEventListener('click', closeModal);
modalBackdrop.addEventListener('click', (e)=>{ if(e.target === modalBackdrop) closeModal(); });

/* ===== State ===== */
let plants = [];
let categories = [];
let loading = false;

/* ===== Loaders ===== */
function showSkeletons(n=8){
  const container = el('#grid'); container.innerHTML = '';
  for(let i=0;i<n;i++){
    const c = document.createElement('div'); c.className='card skeleton';
    c.innerHTML = '\
      <div class="img skel"></div>\
      <div class="line skel"></div>\
      <div class="line skel" style="width:60%"></div>\
      <div class="line skel" style="width:40%"></div>\
      <div class="line skel" style="width:80%"></div>\
    ';
    container.appendChild(c);
  }
}

/* ===== Categories ===== */
async function loadCategories(){
  try{
    const data = await fetchJSON(api.categories);
    categories = data.categories || [];
    const sel = el('#category');
    sel.innerHTML = '<option value="">All categories</option>';
    categories.forEach(c=>{
      const o = document.createElement('option'); o.value = c; o.textContent = c; sel.appendChild(o);
    });
  }catch(e){ console.error(e); }
}

/* ===== List / Filters / Sort ===== */
function queryParams(){
  const search = el('#search').value.trim();
  const cat = el('#category').value;
  const stock = el('#availability').value;
  return { search, cat, stock };
}

async function loadPlants(){
  try{
    loading = true;
    showSkeletons();
    const {search, cat, stock} = queryParams();
    const url = api.plants + '?search=' + encodeURIComponent(search) + '&category=' + encodeURIComponent(cat) + '&inStock=' + encodeURIComponent(stock);
    const data = await fetchJSON(url);
    plants = data.plants || [];
    applyClientSort();
    renderPlants();
    renderCount();
  }catch(e){
    console.error(e);
    el('#grid').innerHTML = '<div class="empty">Failed to load plants. Please retry.</div>';
  }finally{
    loading = false;
  }
}

function applyClientSort(){
  const sortEl = el('#sort');
  const sortVal = sortEl ? sortEl.value : '';
  if(sortVal === 'priceAsc') plants.sort((a,b)=>(a.price||0)-(b.price||0));
  else if(sortVal === 'priceDesc') plants.sort((a,b)=>(b.price||0)-(a.price||0));
  else if(sortVal === 'nameAsc') plants.sort((a,b)=>(a.name||'').localeCompare(b.name||''));
  else if(sortVal === 'nameDesc') plants.sort((a,b)=>(b.name||'').localeCompare(a.name||''));
}

function renderPlants(){
  const container = el('#grid'); container.innerHTML = '';
  if(plants.length===0){ el('#empty').style.display='block'; return; } else { el('#empty').style.display='none'; }

  plants.forEach(p=>{
    const c = document.createElement('div'); c.className = 'card';
    const cats = (p.categories || []);
    const imgLabel = (cats[0] || 'Plant').toUpperCase();

    c.innerHTML = '\
      <div class="img" aria-hidden="true">\
        <div style="opacity:.9;font-weight:800;letter-spacing:.4px">'+ imgLabel +'</div>\
      </div>\
      <h3>'+ (p.name || 'Untitled Plant') +'</h3>\
      <div class="price">‚Çπ'+ (p.price ?? 0) +'</div>\
      <div class="badges">'+ cats.map(cat=>'<span class="tag">üå± '+cat+'</span>').join('') +'</div>\
      <div class="stock '+ (p.inStock?'in':'out') +'">'+ (p.inStock?'In stock':'Out of stock') +'</div>\
      <div class="card-footer">\
        <button class="btn-sm edit">Edit</button>\
        <button class="btn-sm del" title="Delete">üóëÔ∏è</button>\
      </div>\
    ';

    c.querySelector('.edit').addEventListener('click', ()=> openModal(p));
    c.querySelector('.del').addEventListener('click', async ()=>{
      if(confirm('Delete plant?')){
        try{
          await fetchJSON(api.plants + '/' + (p._id || p.id), { method:'DELETE' });
          toast('Deleted');
          loadPlants();
        }catch(e){ console.error(e); toast('Delete failed'); }
      }
    });
    container.appendChild(c);
  });
}
function renderCount(){ el('#count').textContent = plants.length + ' plant(s)'; }

/* ===== Events ===== */
el('#addBtn').addEventListener('click', ()=> openModal());
el('#category').addEventListener('change', loadPlants);
el('#availability').addEventListener('change', loadPlants);
if(el('#sort')) el('#sort').addEventListener('change', ()=>{ applyClientSort(); renderPlants(); });
el('#search').addEventListener('input', debounce(loadPlants, 250));

/* Submit (Add / Update) */
m_submit.addEventListener('click', async ()=>{
  const name = m_name.value.trim();
  const priceStr = m_price.value.trim();
  const catsStr = m_cats.value.trim();
  const stock = m_stock.checked;

  let valid = true;
  e_name.style.display = e_price.style.display = e_cats.style.display = 'none';

  if(!name || name.length < 2){ e_name.textContent='Name must be at least 2 characters'; e_name.style.display='block'; valid=false; }
  if(priceStr === '' || isNaN(priceStr) || Number(priceStr) < 0){ e_price.textContent='Enter a valid price'; e_price.style.display='block'; valid=false; }
  if(!catsStr || !catsStr.split(',').map(s=>s.trim()).filter(Boolean).length){ e_cats.textContent='At least 1 category'; e_cats.style.display='block'; valid=false; }
  if(!valid) return;

  const payload = {
    name,
    price: Number(priceStr),
    categories: catsStr.split(',').map(s=>s.trim()).filter(Boolean),
    inStock: stock
  };

  try{
    if(editId){
      await fetchJSON(api.plants + '/' + editId, {
        method:'PUT', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)
      });
      editId = null;
      toast('Updated');
    }else{
      await fetchJSON(api.plants, {
        method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)
      });
      toast('Added');
    }
    closeModal();
    loadPlants();
    loadSample(); 
  }catch(e){ console.error(e); toast('Save failed'); }
});

/* ===== Sample seeding  ===== */
async function loadSample(){
  try{ await fetch(api.sample, { method:'POST' }).catch(()=>{}); }catch(e){}
}

/* ===== Health ===== */
(async ()=>{
  try{
    const health = await fetchJSON(api.health);
    el('#mongoState').textContent = health.mongo ? 'Connected' : 'Not Connected (Memory)';
  }catch(e){ el('#mongoState').textContent = 'Unknown'; }
})();

/* ===== Smart toolbar  ===== */
const toolbar = el('#toolbar');
const toolbarSpacer = el('#toolbarSpacer');
const header = document.querySelector('header');

function updateToolbarSticky(){
  if(!toolbar || !header) return;
  const shouldStick = window.scrollY > header.offsetHeight;
  const tbHeight = toolbar.offsetHeight;

  if(shouldStick){
    if(!toolbar.classList.contains('sticky')){
      toolbar.classList.add('sticky');
      toolbarSpacer.style.height = tbHeight + 'px'; 
    }
  }else{
    if(toolbar.classList.contains('sticky')){
      toolbar.classList.remove('sticky');
    }
    toolbarSpacer.style.height = '0px';
  }
}

document.addEventListener("scroll", throttle(updateToolbarSticky, 50));
window.addEventListener('resize', throttle(()=>{ 

  if(toolbar.classList.contains('sticky')){
    toolbarSpacer.style.height = toolbar.offsetHeight + 'px';
  }
}, 100));

/* ===== Init ===== */
(async ()=>{
  await loadCategories();
  await loadSample();
  await loadPlants();

  updateToolbarSticky();
})();
</script>
</body>
</html>
